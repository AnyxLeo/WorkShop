{"id":"../node_modules/tubular-react/dist/Toolbar/ExportButton.js","dependencies":[{"name":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\src\\Toolbar\\ExportButton.tsx","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\package.json","includedInParent":true,"mtime":1567469419529},{"name":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\package.json","includedInParent":true,"mtime":1567480634804},{"name":"@material-ui/core/IconButton","loc":{"line":3,"column":27},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\@material-ui\\core\\esm\\IconButton\\index.js"},{"name":"@material-ui/core/Menu","loc":{"line":4,"column":21},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\@material-ui\\core\\esm\\Menu\\index.js"},{"name":"@material-ui/core/MenuItem","loc":{"line":5,"column":25},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\@material-ui\\core\\esm\\MenuItem\\index.js"},{"name":"@material-ui/core/Tooltip","loc":{"line":6,"column":24},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\@material-ui\\core\\esm\\Tooltip\\index.js"},{"name":"@material-ui/icons/CloudDownload","loc":{"line":7,"column":30},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\@material-ui\\icons\\CloudDownload.js"},{"name":"@material-ui/icons/Print","loc":{"line":8,"column":22},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\@material-ui\\icons\\Print.js"},{"name":"react","loc":{"line":9,"column":20},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\react\\index.js"},{"name":"./GridToolbarFunctions","loc":{"line":10,"column":37},"parent":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\ExportButton.js","resolved":"C:\\Users\\Anyx\\Documents\\Unosquare\\Tubular\\Tubular.Web\\client-app\\node_modules\\tubular-react\\dist\\Toolbar\\GridToolbarFunctions.js"}],"generated":{"js":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar IconButton_1 = require(\"@material-ui/core/IconButton\");\r\nvar Menu_1 = require(\"@material-ui/core/Menu\");\r\nvar MenuItem_1 = require(\"@material-ui/core/MenuItem\");\r\nvar Tooltip_1 = require(\"@material-ui/core/Tooltip\");\r\nvar CloudDownload_1 = require(\"@material-ui/icons/CloudDownload\");\r\nvar Print_1 = require(\"@material-ui/icons/Print\");\r\nvar React = require(\"react\");\r\nvar GridToolbarFunctions_1 = require(\"./GridToolbarFunctions\");\r\nexports.ExportButton = function (_a) {\r\n    var type = _a.type, gridName = _a.gridName, toolTip = _a.toolTip, exportTo = _a.exportTo, filteredRecordCount = _a.filteredRecordCount;\r\n    var _b = React.useState(null), anchorPrint = _b[0], setAnchorPrint = _b[1];\r\n    var handlePrintMenu = function (event) {\r\n        return setAnchorPrint(event ? event.currentTarget : null);\r\n    };\r\n    var closePrint = function () { return setAnchorPrint(null); };\r\n    var partialExport = function (data, columns) {\r\n        GridToolbarFunctions_1.exportGrid(type, data, columns, gridName);\r\n        closePrint();\r\n    };\r\n    var printCurrent = function () { return exportTo(false, partialExport); };\r\n    var printAll = function () { return exportTo(true, partialExport); };\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(IconButton_1.default, { disabled: filteredRecordCount === 0, onClick: handlePrintMenu }, type === 'print' ?\r\n            React.createElement(Tooltip_1.default, { title: toolTip || 'Print' },\r\n                React.createElement(Print_1.default, null))\r\n            :\r\n                React.createElement(Tooltip_1.default, { title: toolTip || 'Download' },\r\n                    React.createElement(CloudDownload_1.default, null))),\r\n        React.createElement(Menu_1.default, { anchorEl: anchorPrint, open: Boolean(anchorPrint), onClose: closePrint },\r\n            React.createElement(MenuItem_1.default, { onClick: printCurrent }, \"Current rows\"),\r\n            React.createElement(MenuItem_1.default, { onClick: printAll }, \"All rows\"))));\r\n};\r\n"},"sourceMaps":{"js":{"version":3,"file":"ExportButton.js","sourceRoot":"","sources":["../../src/Toolbar/ExportButton.tsx"],"names":[],"mappings":";;AAAA,2DAAsD;AACtD,+CAA0C;AAC1C,uDAAkD;AAClD,qDAAgD;AAChD,kEAA6D;AAC7D,kDAA6C;AAC7C,6BAA+B;AAE/B,+DAAoD;AAUvC,QAAA,YAAY,GAAgD,UAAC,EAMzE;QALG,cAAI,EACJ,sBAAQ,EACR,oBAAO,EACP,sBAAQ,EACR,4CAAmB;IAEb,IAAA,yBAAoD,EAAnD,mBAAW,EAAE,sBAAsC,CAAC;IAE3D,IAAM,eAAe,GAAG,UAAC,KAAoC;QACzD,OAAA,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC;IAAlD,CAAkD,CAAC;IAEvD,IAAM,UAAU,GAAG,cAAM,OAAA,cAAc,CAAC,IAAI,CAAC,EAApB,CAAoB,CAAC;IAE9C,IAAM,aAAa,GAAG,UAAC,IAAS,EAAE,OAAsB;QACpD,iCAAU,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC1C,UAAU,EAAE,CAAC;IACjB,CAAC,CAAC;IAEF,IAAM,YAAY,GAAG,cAAM,OAAA,QAAQ,CAAC,KAAK,EAAE,aAAa,CAAC,EAA9B,CAA8B,CAAC;IAC1D,IAAM,QAAQ,GAAG,cAAM,OAAA,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,EAA7B,CAA6B,CAAC;IAErD,OAAO,CACH,oBAAC,KAAK,CAAC,QAAQ;QACX,oBAAC,oBAAU,IACP,QAAQ,EAAE,mBAAmB,KAAK,CAAC,EACnC,OAAO,EAAE,eAAe,IAEvB,IAAI,KAAK,OAAO,CAAC,CAAC;YACf,oBAAC,iBAAO,IAAC,KAAK,EAAE,OAAO,IAAI,OAAO;gBAC9B,oBAAC,eAAK,OAAG,CACH;YACV,CAAC;gBACD,oBAAC,iBAAO,IAAC,KAAK,EAAE,OAAO,IAAI,UAAU;oBACjC,oBAAC,uBAAa,OAAG,CACX,CAEL;QACb,oBAAC,cAAI,IACD,QAAQ,EAAE,WAAW,EACrB,IAAI,EAAE,OAAO,CAAC,WAAW,CAAC,EAC1B,OAAO,EAAE,UAAU;YAEnB,oBAAC,kBAAQ,IAAC,OAAO,EAAE,YAAY,mBAEpB;YACX,oBAAC,kBAAQ,IAAC,OAAO,EAAE,QAAQ,eAEhB,CACR,CACM,CACpB,CAAC;AACN,CAAC,CAAC","sourcesContent":["import IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CloudDownload from '@material-ui/icons/CloudDownload';\r\nimport Print from '@material-ui/icons/Print';\r\nimport * as React from 'react';\r\nimport { ColumnModel } from 'tubular-common';\r\nimport { exportGrid } from './GridToolbarFunctions';\r\n\r\ninterface IExportButtonProps {\r\n    type: string;\r\n    gridName: string;\r\n    filteredRecordCount: number;\r\n    toolTip?: string;\r\n    exportTo: (allRows: boolean, exportFunc: (payload: any[], columns: ColumnModel[]) => void) => void;\r\n}\r\n\r\nexport const ExportButton: React.FunctionComponent<IExportButtonProps> = ({\r\n    type,\r\n    gridName,\r\n    toolTip,\r\n    exportTo,\r\n    filteredRecordCount,\r\n}) => {\r\n    const [anchorPrint, setAnchorPrint] = React.useState(null);\r\n\r\n    const handlePrintMenu = (event: React.MouseEvent<HTMLElement>): void =>\r\n        setAnchorPrint(event ? event.currentTarget : null);\r\n\r\n    const closePrint = () => setAnchorPrint(null);\r\n\r\n    const partialExport = (data: any, columns: ColumnModel[]) => {\r\n        exportGrid(type, data, columns, gridName);\r\n        closePrint();\r\n    };\r\n\r\n    const printCurrent = () => exportTo(false, partialExport);\r\n    const printAll = () => exportTo(true, partialExport);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <IconButton\r\n                disabled={filteredRecordCount === 0}\r\n                onClick={handlePrintMenu}\r\n            >\r\n                {type === 'print' ?\r\n                    <Tooltip title={toolTip || 'Print'}>\r\n                        <Print />\r\n                    </Tooltip>\r\n                    :\r\n                    <Tooltip title={toolTip || 'Download'}>\r\n                        <CloudDownload />\r\n                    </Tooltip>\r\n                }\r\n            </IconButton>\r\n            <Menu\r\n                anchorEl={anchorPrint}\r\n                open={Boolean(anchorPrint)}\r\n                onClose={closePrint}\r\n            >\r\n                <MenuItem onClick={printCurrent}>\r\n                    Current rows\r\n                </MenuItem>\r\n                <MenuItem onClick={printAll}>\r\n                    All rows\r\n                </MenuItem>\r\n            </Menu>\r\n        </React.Fragment>\r\n    );\r\n};\r\n"]}},"error":null,"hash":"923627ffbcee305dc21383785144d0a8","cacheData":{"env":{}}}